{"version":3,"sources":["assets/scripts/main/MainScene.js","assets/scripts/core/scene/adaptation.js","assets/scripts/main/createLayer.js","assets/scripts/core/until/err.js","assets/scripts/core/until/event.js","assets/scripts/core/until/funcs.js","assets/scripts/core/net/https.js","assets/scripts/core/init.js","assets/scripts/main/joinLayer.js","assets/scripts/core/layer/layer_scale_show.js","assets/scripts/login/loginScene.js","assets/scripts/core/notice/notice.js","assets/scripts/main/ruleLayer.js","assets/scripts/core/until/uiFuncs.js","assets/scripts/update/update.js"],"names":["cc","Class","extends","Component","properties","onLoad","this","initAllBtn","join_room_layer","find","rule_layer","create_room_layer","start","notice","noticeNode","noticeJS","getComponent","setDefaultNotice","allBtnCallback","event","name","log","self","active","btnHader","btnPath","btn","wsft","addBtnEvent","node","canvas","Canvas","sys","isBrowser","designResolutionBI","designResolution","width","height","visibleRectSize","visibleRect","create_bg","btn_1","Button","btn_2","create_rule_node_1","create_rule_node_2","callback","uiFuncs","bindTouchLayer","onEnable","interactable","window","err","LABEL_START_DELAY","module","exports","MyComponent","customEventData","clickEventHandler","EventHandler","target","component","handler","button","clickEvents","push","funcs","getTxTStr","_url","loader","loadRes","data","showTip","https","get","ctor","num_lable","inputNum","join_bg","i","lable","Label","resetBtn","length","string","delLabelBtn","getRoomId","roomId","inputLabel","_num","sendRoomID","onDisable","scaleAction1","scaleTo","scaleAction2","seq","sequence","runAction","agreementLabel","agreementLayer","ag_scrollView_node","agreementCheckBox","Toggle","_lable","closeAgreementLayer","isChecked","jumpScene","showAgreementLayer","director","loadScene","defaultNotice","isRuning","noticeTable","String","speed","Lable","mask","setSpeed","_speed","_defaultNotice","undefined","runNotice","addNoticeTable","_noticeTable","str","shift","x","y","ac","moveBy","callFunc","_runAction","moveX","time","spriteFrame_1","SpriteFrame","spriteFrame_2","rule_scroll","ScrollView","rule_info_node","rule_bg","scrollToTop","showImg","_spriteFrame","rule_height","Sprite","spriteFrame","content","stopAutoScroll","_txt","_fontSize","_time","_color","prefab","showTime","fontSize","color","Color","tipNode","instantiate","scene","getScene","addChild","tipNodeX","winSize","tipNodeY","fontHeight","destroy","action1","moveTo","v2","action2","delayTime","action3","_touchNode","_node","_callback","on","Node","EventType","TOUCH_END","_event","pos","getLocation","getBoundingBoxToWorld","contains","init","require","tipLable","initNew","is_loading","jindu","onProgress","completedCount","totalCount","item","number_jindu","parseInt","loadResDir","textures","update","dt"],"mappings":"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","sourcesContent":["/**\n * 游戏大厅\n * 功能：  \n * author：lidongdong\n * time:2018.9.1\n */\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //     // ATTRIBUTES:\n        //     default: null,        // The default value will be used only when the component attaching\n        //                           // to a node for the first time\n        //     type: cc.SpriteFrame, // optional, default is typeof default\n        //     serializable: true,   // optional, default is true\n        // },\n        // bar: {\n        //     get () {\n        //         return this._bar;\n        //     },\n        //     set (value) {\n        //         this._bar = value;\n        //     }\n        // },\n    \n   \n    },\n\n    // LIFE-CYCLE CALLBACKS:\n    onLoad () {\n        this.initAllBtn()\n        this.join_room_layer = cc.find(\"Canvas/join_room_layer\")\n        this.rule_layer = cc.find(\"Canvas/rule_layer\")\n        this.create_room_layer = cc.find(\"Canvas/create_room_layer\")\n        \n    }, \n    start () {\n        this.notice()\n    },  \n    //公告\n    notice(){\n        var noticeNode = cc.find('Canvas/notice_node')\n        this.noticeJS = noticeNode.getComponent('notice')\n        //添加默认公告（一种循环这个公告）\n        this.noticeJS.setDefaultNotice(\"北京网圣飞腾欢迎你！\")  \n        //添加广播  就播放一次\n        // self.noticeJS.addNoticeTable(\"你好！你好！\")\n    },\n    allBtnCallback:function(event,name){\n        cc.log(name)\n        var self = this\n        if(name === \"creatroom\"){\n            this.create_room_layer.active = true\n        }\n        else if(name === \"joinroom\"){\n            this.join_room_layer.active = true\n        }\n        else if(name === \"shop\"){\n           \n        }\n        else if(name === \"rule\"){\n            this.rule_layer.active = true\n        }\n        else if(name === \"set\"){\n           \n        }\n        else if(name === \"record\"){\n           \n        }\n        else if(name === \"share\"){\n           \n        }else{\n\n        }\n\n    },\n   // 初始化所有的btn\n   initAllBtn:function(){\n       cc.log(\"btn===init\")\n       var self = this\n       var btnHader = function(btnPath,name){\n          var btn = cc.find(btnPath)\n          wsft.event.addBtnEvent(btn,self.node,'mainScene','allBtnCallback',name);\n       }\n       btnHader('Canvas/center_node/createRoom_btn','creatroom'); //创建房间\n       btnHader('Canvas/center_node/joinRoom_btn','joinroom'); //加入房间\n       btnHader('Canvas/top_node/shop_btn','shop'); //商城\n       btnHader('Canvas/down_node/rule_btn','rule'); //玩法\n       btnHader('Canvas/down_node/set_btn','set'); //设置\n       btnHader('Canvas/down_node/record_btn','record'); //战绩\n       btnHader('Canvas/down_node/share_btn','share'); //分享\n\n       btnHader('Canvas/top_node/info_node/add_diamond_btn','diamond'); //添加砖石（房卡）\n       \n   },\n    // update (dt) {},\n});\n","\n/**\n * web适配\n * 功能：  web适配\n * author：lidongdong\n * time:2018.9.6\n */\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        var canvas = this.node.getComponent(cc.Canvas);\n        if(cc.sys.isBrowser){ //判断是不是浏览器\n            var designResolutionBI = canvas.designResolution.width/canvas.designResolution.height\n            var visibleRectSize = cc.visibleRect.width/cc.visibleRect.height\n            cc.log(canvas.designResolution.width)\n            cc.log(canvas.designResolution.height)\n            cc.log(cc.visibleRect.width)\n            cc.log(cc.visibleRect.height)\n            if ( designResolutionBI >= visibleRectSize) { \n\n                // canvas.fitWidth = false;\n                // canvas.fitHeight = true;\n                // canvas.designResolution.width = cc.visibleRect.width\n                // canvas.fitWidth = true;\n                // canvas.fitHeight = true;\n                cc.log(\"设计分辨率宽高比大于屏幕分辨率，适配高度避免黑边\");\n            } else {\n                // canvas.fitWidth = true;\n                // canvas.fitHeight = false;\n                // canvas.designResolution.height = cc.visibleRect.height\n                // canvas.fitWidth = true;\n                // canvas.fitHeight = true;\n                cc.log(\"设计分辨率宽高比小于屏幕分辨率，适配宽度避免黑边\");\n            }\n        }else{\n\n        }\n    },\n\n    start () {\n\n    },\n\n    // update (dt) {},\n});\n","// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //     // ATTRIBUTES:\n        //     default: null,        // The default value will be used only when the component attaching\n        //                           // to a node for the first time\n        //     type: cc.SpriteFrame, // optional, default is typeof default\n        //     serializable: true,   // optional, default is true\n        // },\n        // bar: {\n        //     get () {\n        //         return this._bar;\n        //     },\n        //     set (value) {\n        //         this._bar = value;\n        //     }\n        // },\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        var self = this\n        this.initAllBtn()\n        var create_bg = cc.find('Canvas/create_room_layer/create_bg')\n        this.btn_1 = cc.find('Canvas/create_room_layer/btn_scroll_view/view/content/btn_1').getComponent(cc.Button);\n        this.btn_2 = cc.find('Canvas/create_room_layer/btn_scroll_view/view/content/btn_2').getComponent(cc.Button);\n        this.create_rule_node_1 = cc.find('Canvas/create_room_layer/create_rule_node_1')\n        this.create_rule_node_2 = cc.find('Canvas/create_room_layer/create_rule_node_2')\n\n        var callback = function(){\n            self.node.active = false;\n        }\n        wsft.uiFuncs.bindTouchLayer(this.node,create_bg,callback);\n    },\n\n    start () {\n\n    },\n    onEnable(){\n        this.btn_1.interactable = false;\n        this.btn_2.interactable = true;\n        this.create_rule_node_1.active = true;\n        this.create_rule_node_2.active = false;\n    },\n    allBtnCallback:function(event,name){\n        cc.log(name)\n        if(name === \"close\"){\n            this.node.active = false;\n        }\n        else if(name == 'create'){\n            cc.log(\"创建房间\")\n        }else if(name == 'btn_1'){\n            this.btn_1.interactable = false;\n            this.btn_2.interactable = true;\n            this.create_rule_node_1.active = true\n            this.create_rule_node_2.active = false\n\n        }\n        else if(name == 'btn_2'){\n            this.btn_1.interactable = true;\n            this.btn_2.interactable = false;\n            this.create_rule_node_1.active = false\n            this.create_rule_node_2.active = true\n        }\n        else{\n            \n        }\n\n    },\n    initAllBtn:function(){\n        var self = this\n        var btnHader = function(btnPath,name){\n            var btn = cc.find(btnPath);\n            wsft.event.addBtnEvent(btn,self.node,'createLayer','allBtnCallback',name);\n        }\n        btnHader('Canvas/create_room_layer/close_btn','close'); //close\n        btnHader('Canvas/create_room_layer/btn_scroll_view/view/content/btn_1','btn_1'); //btn_1\n        btnHader('Canvas/create_room_layer/btn_scroll_view/view/content/btn_2','btn_2'); //btn_2\n        btnHader('Canvas/create_room_layer/create_roon_btn','create'); //创建房间\n    },\n    // update (dt) {},\n});\n","window.wsft = window.wsft || {}\nvar err = {\n    LABEL_START_DELAY:\"label_start_delay\",\n}\nwsft.err = module.exports = err;","\n/**\n * 事件封装回调\n * 功能：  对于btn 等一些事件进行的封装\n * author：lidongdong\n * time:2018.8.30\n */\nwindow.wsft = window.wsft || {}\nvar event = {\n    /*\n    /*\n    添加按钮事件监听\n    1 btn 这个btn的node\n    2 node 这个 node 节点是btn事件处理代码组件所属的节点\n    3 MyComponent 这个是btn所属代码文件名 string类型\n    4 callback btn的回调函数 string类型\n    5 customEventData 自定义事件数据\n    */\n   addBtnEvent:function(btn,node,MyComponent,callback,customEventData){\n        var clickEventHandler = new cc.Component.EventHandler();\n        clickEventHandler.target = node; \n        clickEventHandler.component = MyComponent;\n        clickEventHandler.handler = callback;\n        clickEventHandler.customEventData = customEventData;\n\n        var button = btn.getComponent(cc.Button);\n        button.clickEvents.push(clickEventHandler);\n    },\n}\nwsft.event = module.exports = event;\n","/**\n * 封装一些func\n * 功能：  重复用的一些func 进行修改\n * author：lidongdong\n * time:2018.8.30\n */\nwindow.wsft = window.wsft || {}\nvar funcs = {\n        /*\n            _url显示txt文本的路径\n            callback 回调函数\n        */\n       getTxTStr:function(_url,callback){\n        cc.loader.loadRes(_url,function(err,data){\n            if(err){\n                wsft.uiFuncs.showTip('获取文本失败！',30)\n                callback('')\n            }else{\n                callback(data)\n            }\n        });\n    },\n}\nwsft.funcs = module.exports = funcs;\n\n","window.wsft = window.wsft || {}\nvar https = {\n    get:function(){\n        cc.log(\"HTTP===============Get\");\n        \n    }\n}\nwsft.https = module.exports = https;","// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n    \n    properties: {     \n    },\n    ctor:function(){\n        cc.log(\"------init初始化------------\");\n        window.wsft = window.wsft || {}\n    }\n});\n","// Learn cc.Class:\n/**\n * 加入房间\n * 功能：  push\n * author：lidongdong\n * time:2018.9.4\n */\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n// 不走 \n    onLoad () {\n        var self = this;\n        this.num_lable = [];\n        this.inputNum = 0;\n        var join_bg = cc.find(\"Canvas/join_room_layer/jion_bg_1\");\n        this.initAllBtn();\n        for(var i = 0;i < 6;i ++){\n            var lable = cc.find(\"Canvas/join_room_layer/srk_node/join_srk_\"+ i +\"/join_num_label\").getComponent(cc.Label);\n            this.num_lable.push(lable);\n        }\n        var callback = function(){\n            self.node.active = false;\n        }\n        wsft.uiFuncs.bindTouchLayer(this.node,join_bg,callback);\n    },\n\n    start () {\n\n    },\n    //active = true\n    onEnable(){\n        this.resetBtn()\n    },\n    //重置\n    resetBtn(){\n        cc.log(\"resetBtn==============\")\n        for(var i = 0;i < this.num_lable.length;++i){\n            this.num_lable[i].string = \"\";\n        }\n        this.inputNum = 0;\n    },\n    //删除\n    delLabelBtn(){\n        if(this.inputNum > 0){\n            this.inputNum  -= 1\n            this.num_lable[this.inputNum].string = \"\"\n        }\n    },\n    //获取房间号\n    getRoomId(){\n        var roomId = \"\"\n        for(var i = 0;i <  this.num_lable.length;++i )\n        {\n            roomId += this.num_lable[i].string\n        }\n        return roomId\n    },\n    //输入\n    inputLabel(_num){\n        if(this.inputNum >= this.num_lable.length){\n            return;\n        }\n        this.num_lable[this.inputNum].string = _num;\n        this.inputNum += 1;\n        if(this.inputNum == this.num_lable.length ){\n            var roomId = this.getRoomId()\n            this.sendRoomID(roomId)\n        }\n    },\n    //发送服务器\n    sendRoomID(roomId){\n        cc.log(\"发送房间号-->\"+roomId)\n    },\n    //active = false\n    onDisable(){\n        \n    },\n    \n    allBtnCallback:function(event,name){\n        cc.log(name)\n        if(name === \"close\"){\n            this.node.active = false\n        }\n        else if(name == 10){\n            this.resetBtn()\n        }\n        else if(name == 11){\n            this.delLabelBtn()\n        }\n        else{\n            this.inputLabel(name)\n        }\n\n    },\n   // 初始化所有的btn\n   initAllBtn:function(){\n        cc.log(\"btn==============\")\n        var self = this\n        var btnHader = function(btnPath,name){\n            var btn = cc.find(btnPath)\n            wsft.event.addBtnEvent(btn,self.node,'joinLayer','allBtnCallback',name);\n        }\n        btnHader('Canvas/join_room_layer/close_btn','close'); //close\n        for (var i = 0;i<12;++i){\n            btnHader('Canvas/join_room_layer/btn_node/num_'+ i,i); //close\n        }\n       \n   },\n    // update (dt) {},\n});\n","// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        // foo: {\n        //     // ATTRIBUTES:\n        //     default: null,        // The default value will be used only when the component attaching\n        //                           // to a node for the first time\n        //     type: cc.SpriteFrame, // optional, default is typeof default\n        //     serializable: true,   // optional, default is true\n        // },\n        // bar: {\n        //     get () {\n        //         return this._bar;\n        //     },\n        //     set (value) {\n        //         this._bar = value;\n        //     }\n        // },\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n    onEnable() {\n        var scaleAction1 = cc.scaleTo(0.1, 1.25);\n        var scaleAction2 = cc.scaleTo(0.1, 1);\n        var seq = cc.sequence(scaleAction1, scaleAction2);\n        this.node.runAction(seq);\n    },\n    start () {\n\n    },\n\n    // update (dt) {},\n});\n","// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        agreementLabel:\"\"\n    },\n\n    onLoad () {\n        \n        \n    },\n    start () {\n        var self = this\n        //初始化所有btn事件\n        this.initAllBtn()\n        //wsft协议layer\n        this.agreementLayer =  cc.find(\"Canvas/agreement_layer\")\n        var ag_scrollView_node = cc.find(\"Canvas/agreement_layer/ScrollView\")\n        //获取复选框\n        this.agreementCheckBox = cc.find(\"Canvas/agreement_checkBox\").getComponent(cc.Toggle);\n        //获取协议layerLable组件\n        this._lable = cc.find(\"Canvas/agreement_layer/ScrollView/view/content/item\").getComponent(cc.Label)\n        var callback = function(){\n            self.closeAgreementLayer()\n        }\n        wsft.uiFuncs.bindTouchLayer(this.agreementLayer,ag_scrollView_node,callback)\n    },\n     allBtnCallback:function(event,name){\n         cc.log(name)\n         var self = this\n         if(name === \"wx\"){\n            if (this.agreementCheckBox.isChecked) {\n                self.jumpScene()\n            } \n            else {\n                wsft.uiFuncs.showTip('请同意用户使用协议',30)\n            }\n         }\n         else if(name === \"agreement\"){\n            if (this.agreementLabel===\"\") {\n                var callback = function(data){\n                    cc.log(\"date=\"+data)\n                    self.agreementLabel = data\n                    self._lable.string = self.agreementLabel \n                    self.showAgreementLayer()\n                }\n                wsft.funcs.getTxTStr('argeementTXT',callback)\n            } else {\n                self.showAgreementLayer()\n            }\n         }\n         else if(name === \"agt_close\"){\n            self.closeAgreementLayer()\n         }\n     },\n    // 初始化所有的btn\n    initAllBtn:function(){\n        var self = this\n        var btnHader = function(btnPath,name){\n           var btn = cc.find(btnPath)\n           wsft.event.addBtnEvent(btn,self.node,'loginScene','allBtnCallback',name);\n        }\n        btnHader('Canvas/wx_btn','wx'); //微信\n        btnHader('Canvas/agreement_btn','agreement'); //协议\n\n        btnHader('Canvas/agreement_layer/close_btn','agt_close'); //协议layer的取消按钮\n    },\n\n    showAgreementLayer:function(){\n        this.agreementLayer.active = true\n    },\n\n    closeAgreementLayer:function(){\n        this.agreementLayer.active = false\n    },\n    //跳转场景\n    jumpScene:function(){\n        cc.director.loadScene('MainScene')\n    }\n    // update (dt) {},\n});\n","/**\n * 跑马灯\n * 功能：  1默认的公告 [在没有广播的情况下.这个就循环滚动]\n *        2广播只播放一次\n * author：lidongdong\n * time:2018.8.31\n */\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        defaultNotice:null, //默认的公告 [在没有广播的情况下.这个就循环滚动]\n        isRuning:false,\n        noticeTable:[cc.String],//广播\n        speed:100,//速度\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        this.Lable = cc.find('Canvas/notice_node/mask_node/notice_label')\n        this._lable = this.Lable.getComponent(cc.Label)\n        this.mask = cc.find('Canvas/notice_node/mask_node')\n    },\n    \n    start () {\n        \n    },\n    //设置速度\n    setSpeed(_speed){\n        this.speed = _speed\n    },\n    //设置默认公告\n    setDefaultNotice(_defaultNotice){\n        if ( _defaultNotice == undefined){return}\n        cc.log(\"设置默认公告===\"+ _defaultNotice);\n        this.defaultNotice = _defaultNotice\n        this.runNotice();\n\n    },\n    //添加广播\n    addNoticeTable(_noticeTable){\n        if( _noticeTable == undefined){return}\n        cc.log(\"添加广播===\"+ _noticeTable);\n        this.noticeTable.push(_noticeTable);\n        this.runNotice();\n    },\n    runNotice(){\n        var self = this\n        if (this.isRuning) {\n            return\n        }\n        var str = \"\"\n        if( this.noticeTable.length == 0){\n            if (this.defaultNotice) {\n                str = this.defaultNotice\n            } else {\n                self.node.active = false\n                return\n            }\n        }else{\n            // str = this.noticeTable[0]\n            str = this.noticeTable.shift()\n        }\n        this.isRuning = true\n        this._lable.string = str\n        this.Lable.x = this.mask.width / 2\n        this.Lable.y = 0\n        //下一帧的处理\n        var ac = cc.sequence(\n            cc.moveBy(0, 0, 0),\n            cc.callFunc(function(){\n                self._runAction();\n            })\n        )\n        self.Lable.runAction(ac)\n    },\n    _runAction(){\n        var self = this\n        var moveX = this.mask.width + this.Lable.width\n        var time = moveX/this.speed\n        var ac = cc.sequence(\n            cc.moveBy(time, -moveX, 0),\n            cc.callFunc(function(){\n                self.isRuning = false;\n                self.runNotice();\n            })\n        )\n        self.Lable.runAction(ac)\n    },   \n});\n","/**\n * 玩法介绍\n * 功能（scrollView） \n * author：lidongdong\n * time:2018.9.5\n */\ncc.Class({\n    extends: cc.Component,\n    properties: {\n        spriteFrame_1:cc.SpriteFrame,\n        spriteFrame_2:cc.SpriteFrame,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        var self = this;\n        this.initAllBtn();\n        this.btn_1 = cc.find('Canvas/rule_layer/btn_scroll_view/view/content/btn_1').getComponent(cc.Button);\n        this.btn_2 = cc.find('Canvas/rule_layer/btn_scroll_view/view/content/btn_2').getComponent(cc.Button);\n        this.rule_scroll = cc.find('Canvas/rule_layer/show_scroll_view').getComponent(cc.ScrollView);\n        this.rule_info_node = cc.find('Canvas/rule_layer/show_scroll_view/view/content/rule_show');\n        \n        var rule_bg = cc.find('Canvas/rule_layer/rule_bg');\n        var callback = function(){\n            self.node.active = false;\n        }\n        wsft.uiFuncs.bindTouchLayer(this.node,rule_bg,callback);\n    },\n\n    start () {\n\n    },\n    onEnable(){\n        this.rule_scroll.scrollToTop(0);\n        this.btn_1.interactable = false;\n        this.btn_2.interactable = true;\n        this.showImg(this.spriteFrame_1,1);\n\n    },\n    showImg(_spriteFrame,_num){\n        var rule_height = [1891,1434]; //图片的高度\n        this.rule_info_node.getComponent(cc.Sprite).spriteFrame = _spriteFrame;\n        var content = cc.find('Canvas/rule_layer/show_scroll_view/view/content');\n        content.height = rule_height[_num - 1];\n        this.rule_info_node.height = rule_height[_num - 1];\n    },\n    allBtnCallback:function(event,name){\n        cc.log(name)\n        if(name === \"close\"){\n            this.node.active = false;\n        }\n        else if(name == 'btn_1'){\n            this.rule_scroll.stopAutoScroll();\n            this.btn_1.interactable = false;\n            this.btn_2.interactable = true;\n            this.showImg(this.spriteFrame_1,1);\n            this.rule_scroll.scrollToTop(0);\n        }\n        else if(name == 'btn_2'){\n            this.rule_scroll.stopAutoScroll();\n            this.btn_1.interactable = true;\n            this.btn_2.interactable = false;\n            this.showImg(this.spriteFrame_2,2);\n            this.rule_scroll.scrollToTop(0);\n        }\n        else{\n            \n        }\n\n    },\n    initAllBtn:function(){\n        var self = this\n        var btnHader = function(btnPath,name){\n            var btn = cc.find(btnPath);\n            wsft.event.addBtnEvent(btn,self.node,'ruleLayer','allBtnCallback',name);\n        }\n        btnHader('Canvas/rule_layer/close_btn','close'); //close\n        btnHader('Canvas/rule_layer/btn_scroll_view/view/content/btn_1','btn_1'); //btn_1\n        btnHader('Canvas/rule_layer/btn_scroll_view/view/content/btn_2','btn_2'); //btn_2\n    },\n    onDisable(){\n        this.rule_scroll.stopAutoScroll()\n    },\n    // update (dt) {},\n});\n","/**\n * 封装一些UI 方法\n * 功能：  \n * author：lidongdong\n * time:2018.8.30\n */\n\nwindow.wsft = window.wsft || {}\nvar uiFuncs = {\n    /*\n        showTip显示tip\n        _txt 显示的内容\n        _fontSize 字体的大小 默认 40 \n        _time 显示的时间 默认为 2 \n        _color 字体的颜色 new cc.Color(255, 255, 73\n     */\n    showTip:function (_txt,_fontSize,_time,_color) {\n        cc.loader.loadRes(\"common/prefabs/showTip\", function (err, prefab) {\n            var showTime = _time || 2\n            var fontSize = _fontSize || 40\n            var color = _color || (new cc.Color(255, 255, 73))\n\n            var tipNode = cc.instantiate(prefab);\n            var _lable = tipNode.getComponent(cc.Label)\n            var scene = cc.director.getScene()\n            scene.addChild(tipNode);\n            var tipNodeX = cc.winSize.width * .5\n            var tipNodeY = cc.winSize.height * .5 \n            tipNode.x = tipNodeX\n            tipNode.y = tipNodeY - 100\n            tipNode.color =  color\n            _lable.fontSize = fontSize\n            _lable.fontHeight = fontSize\n            _lable.string = _txt;\n            var callFunc = function(){\n                tipNode.destroy();\n            }\n            var action1 = cc.moveTo(.5, cc.v2(tipNodeX, tipNodeY));\n            var action2 = cc.delayTime(showTime)\n            var action3 =  cc.callFunc(callFunc)\n            var seq = cc.sequence(action1,action2,action3);\n            tipNode.runAction(seq);\n        });\n    },\n     /*\n        * 弹窗添加触摸处理层\n        * _touchNode: 弹窗跟节点，用于添加触摸，必须全屏\n         * _node: 传入一个节点，用于判断区域\n        * _callback: 点击在弹窗外时的处理\n    */\n    bindTouchLayer: function (_touchNode, _node, _callback) {\n        // 判断是否在_node外面\n        _touchNode.on(cc.Node.EventType.TOUCH_END, function (_event) {\n            var pos = _event.getLocation();\n            // 在_node节点外面\n            if (!_node.getBoundingBoxToWorld().contains( _event.getLocation())) {\n                var callback = _callback || function () { };\n                callback();\n            }\n        });\n    },\n}\nwsft.uiFuncs = module.exports = uiFuncs;\n","// Learn cc.Class:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\nvar init = require('init')\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        tipLable:cc.Label,\n\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n    \n    onLoad () {\n        //初始化数据\n        var initNew = new init()\n        this.is_loading = true   \n        this.jindu = 0 \n    },\n    start () {\n        var self = this\n        // var action2 = cc.delayTime(1)\n        // var action3 =  cc.callFunc(this.jumpScene)\n        // var seq = cc.sequence(action2,action3);\n        // this.node.runAction(seq);\n        cc.loader.onProgress = function ( completedCount, totalCount,  item ){\n            if(self.is_loading){\n                self.jindu = completedCount/totalCount;\n                var number_jindu = parseInt(self.jindu*100);\n                self.tipLable.string = \"正在加载资源，请稍候...\"+number_jindu+'%'\n            } \n            cc.log(completedCount)\n            cc.log(totalCount)\n            cc.log(item)\n        }\n        \n        cc.loader.loadResDir(\"textures\", function (err, textures) {    \n            self.is_loading = false       \n            self.jumpScene()\n        });\n    },\n\n    //跳转场景\n    jumpScene:function(){\n        cc.director.loadScene('LoginScene')\n    },\n\n    update (dt) {\n\n    },\n});\n"],"sourceRoot":"/source/","file":"project.dev.js"}