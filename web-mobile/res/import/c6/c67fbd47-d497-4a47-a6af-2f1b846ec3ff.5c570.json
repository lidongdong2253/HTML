{"__type__":"cc.TextAsset","_name":"login","text":"syntax = \"proto2\";\n\npackage com.games.douniu;\n\n\n/////////////////////////////////////////////登录服务器模块///////////////////////////////////////////\n/////////////////////////////////////////////登录服务器模块///////////////////////////////////////////\n/////////////////////////////////////////////登录模块/////////////////////////////////////////////////\n\nmessage LoginGame {  \n\t//用户名\n  \toptional string name = 1;  \n\t//用户密码\n\toptional string password = 2;  \n\t//微信头像url\n\toptional string headimgurl = 3;\n\t//性别 1男2女\n\toptional int32 sex = 4;\n\t//省份\n\toptional string province = 5;\n\t//城市\n\toptional string city = 6;\n\t\n\toptional string openid = 7;    //openid,微信方式登录\n\toptional string unionid = 8;   //微信登录方式\n\toptional string access_token = 9; //access_token 微信方式登录\n\n\toptional string user_token=10;  //通过token登录,一般是断线重连\n\toptional uint32 user_id=11;  //用户id\n\n\t//登录方式 0 微信登录， 1 qq登录( access_token = access_token,unionid = QQ_AppID, openid = openid)  \n\t//2 支付宝登录 (unionid = ZFB_AppID, access_token = code)\n\toptional int32 login_type = 12; \n\n\toptional uint32 app_id = 13;\n}\n\nmessage UserProfile{\n\toptional bool sex =1;  //true 女,false 男\n\toptional string headimgurl=2;\n    optional string country = 3;\n    optional string province = 4;\n    optional string city = 5;\n    optional string nickname=6;\t\n\toptional string openid = 7; \n\toptional string unionid = 8;\n}\n\nmessage LoginType {\n\t//登录类型\n\toptional int32 login_type = 1;\n\t//昵称\n\toptional string nickname = 2;\n}\n\n//5001\nmessage LoginGame_Resp {  \n\t//错误代码类型\n\tenum ErrType {\n\t\tERR_NO = 0;  \t\t//没有错误\n\t\tERR_PASSWORD = 1; \t//登录密码不正确\n\t\tERR_RELOGIN = 2;\t//打牌界面掉线重连\n\t\tERR_WAIT_RELOGIN = 3; //等待界面断线重连\n\t\tERR_TOKEN_INVALID = 4;  //token无效\n\t\tERR_WX_AUTH=5;   //微信鉴权失败\n\t\tERR_LOCK=6; //用户被锁\n\t\tERR_BAN=7; //用户被禁\n\t\tERR_DB=8;//服务器错误\n\t\tERR_BIND_AUTH=9;//服务器不支持此授权\n\t}\n\t//错误代码\n\toptional ErrType errcode = 1;\n\t//8局房卡数量\n    optional int32 diamond_2 = 2;  \n\t//16局房卡数量\n\toptional int32 diamond_16 = 3;  \n\t//用户ID\n\toptional int32 id = 4;  \n\t//断线重连游戏服务器的ip\n\toptional string game_ip = 5;\t\t\n\t//断线重连游戏服务器的port\t\t\t\n\toptional int32 game_port = 6;\n\t//用户的名字\t\t\n\toptional string name = 7;\n\t//是否领取过查看规则奖励 0 否 1 是\n\toptional int32 is_get_rule = 8;\t\t\n\t//是否有邀请码优惠 0 否 1 是\n\toptional int32 is_yaoqingma = 9;\t\n\t//土豪币数量\n\toptional int32 money = 10;\t\t\n\toptional string user_token=11;//用户token,用来在其他服务器验证\n\trepeated UserProfile profile=12;\n\toptional int32 diamond_4 = 13;\n\toptional int32 diamond_8 = 14;\n\t//可用的登录方式 0 微信登录，1 qq登录\n\trepeated LoginType login_type_list = 15;\n}\n\n//请求绑定其他第三方账号\nmessage BindOAuth{\n\toptional string openid = 1;    //openid,微信方式登录\n\toptional string unionid = 2;   //微信登录方式\n\toptional string access_token = 3; //access_token 微信方式登录\n\toptional int32 login_type=4;  //登录方式\n\toptional uint32 app_id = 5;\n}\n\nmessage BindOAuth_Resp{\n\toptional int32 login_type=1;  //登录方式\n\toptional bool result=2;  //true:ok   false:error\n\toptional string describe = 3; //错误描述\n}\n\n//请求版本号\nmessage Version {\n\t//版本号\n\toptional string version = 1;\n\t//设备类型 1 android 2 ios\n\toptional int32 platform = 2;\n\toptional uint32 app_id = 3;\n}\n\n//请求版本号回应\nmessage Version_Resp {\n\t//状态 0-不用管，1-提示更新，2-强制更新\n\toptional int32 status = 1;\n\t//更新游戏的地址\n\toptional string update_url = 2;\n\t//公告链接地址\n\toptional string notice_url = 3;\n\t//新闻链接地址\n\toptional string news_url = 4;\n\t//语音服务器链接地址\n\toptional string voice_url = 5;\n\t//系统公告链接地址\n\toptional string sysnotice_url = 6;\n}\n\n//从登录服获取游戏服的ip和port\nmessage GetGameServer {\n\t//请求战绩和创建房间时填 0 ， 加入房间时天房间号\n\toptional int32 room_num = 1;\n\toptional int32 appid = 2;\n\toptional uint32 app_id = 3;\n}\n\n//从登录服获取游戏服的ip和port回应\nmessage GetGameServer_Resp {\n\t//游戏服务器ip\n    optional string game_ip = 1;\n\t//游戏服务器端口\n\toptional int32 game_port = 2;\n}\n\n//发送获取查看规则奖励\nmessage RuleAward {\n\t//用户id\n\toptional int32 user_id = 1;\n\toptional uint32 app_id = 2;\n}\n\n//发送获取查看规则奖励回应\nmessage RuleAward_Resp {\n\t//错误代码类型\n\tenum ErrType {\n\t\tERR_NO = 0;  \t\t//没有错误\n\t\tERR_GETED = 1; \t\t//已经获取了\n\t}\n\toptional ErrType errcode = 1;\n\t//获取后八局的钻石数量\n\toptional int32 diamond_2 = 2;\n\t//获取后的金币数量\n\toptional int32 money = 3;\n\toptional int32 diamond_4 = 4;\n\toptional int32 diamond_8 = 5;\n\toptional int32 diamond_16 = 6;\n}\n//从登录服获取创建房间的钻石消耗\n//charge_type: 1：长沙麻将（包括长沙转转和258）2：湘潭麻将（包括湘潭转转和258）3：株洲麻将\n\nmessage GetDiamondConsume {\n\t//收费类型\n\toptional int32 charge_type = 1;\n\toptional uint32 app_id = 2;\n}\nmessage DiamondConsumeInfo{\n\toptional string name =1;\t\t\t///几局房  createroom+局数的命名\n    optional int32 diamond_count =2;         ///钻石数量\n    optional int32 diamond_type =3;          ///钻石类型\n}\n\n//从登录服获取创建房间的钻石消耗回应\nmessage GetDiamondConsume_Resp {\n\trepeated DiamondConsumeInfo info = 1;\n}"}